{"version":3,"file":"HeaderSectionRow.js","sourceRoot":"","sources":["../../../../../../../front_end/panels/network/components/HeaderSectionRow.ts"],"names":[],"mappings":"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","sourcesContent":["// Copyright 2022 The Chromium Authors. All rights reserved.\n// Use of this source code is governed by a BSD-style license that can be\n// found in the LICENSE file.\n\nimport * as SDK from '../../../core/sdk/sdk.js';\nimport * as ComponentHelpers from '../../../ui/components/helpers/helpers.js';\nimport * as LitHtml from '../../../ui/lit-html/lit-html.js';\n\nimport type * as Protocol from '../../../generated/protocol.js';\nimport * as i18n from '../../../core/i18n/i18n.js';\nimport * as Host from '../../../core/host/host.js';\nimport * as IconButton from '../../../ui/components/icon_button/icon_button.js';\nimport * as ClientVariations from '../../../third_party/chromium/client-variations/client-variations.js';\nimport * as Platform from '../../../core/platform/platform.js';\n\nimport headerSectionRowStyles from './HeaderSectionRow.css.js';\n\nconst {render, html} = LitHtml;\n\nconst UIStrings = {\n  /**\n  *@description Comment used in decoded X-Client-Data HTTP header output in Headers View of the Network panel\n  */\n  activeClientExperimentVariation: 'Active `client experiment variation IDs`.',\n  /**\n  *@description Comment used in decoded X-Client-Data HTTP header output in Headers View of the Network panel\n  */\n  activeClientExperimentVariationIds: 'Active `client experiment variation IDs` that trigger server-side behavior.',\n  /**\n  *@description Text in Headers View of the Network panel for X-Client-Data HTTP headers\n  */\n  decoded: 'Decoded:',\n  /**\n  *@description Text that is usually a hyperlink to more documentation\n  */\n  learnMore: 'Learn more',\n  /**\n  *@description Text for a link to the issues panel\n  */\n  learnMoreInTheIssuesTab: 'Learn more in the issues tab',\n};\n\nconst str_ = i18n.i18n.registerUIStrings('panels/network/components/HeaderSectionRow.ts', UIStrings);\nconst i18nString = i18n.i18n.getLocalizedString.bind(undefined, str_);\n\nexport class HeaderEditedEvent extends Event {\n  static readonly eventName = 'headeredited';\n  headerName: Platform.StringUtilities.LowerCaseString;\n  headerValue: string;\n\n  constructor(headerName: Platform.StringUtilities.LowerCaseString, headerValue: string) {\n    super(HeaderEditedEvent.eventName, {});\n    this.headerName = headerName;\n    this.headerValue = headerValue;\n  }\n}\n\nexport interface HeaderSectionRowData {\n  header: HeaderDescriptor;\n}\n\nexport class HeaderSectionRow extends HTMLElement {\n  static readonly litTagName = LitHtml.literal`devtools-header-section-row`;\n  readonly #shadow = this.attachShadow({mode: 'open'});\n  #header: HeaderDescriptor|null = null;\n  readonly #boundRender = this.#render.bind(this);\n\n  connectedCallback(): void {\n    this.#shadow.adoptedStyleSheets = [headerSectionRowStyles];\n    this.#shadow.addEventListener('focusin', this.#onFocusIn.bind(this));\n    this.#shadow.addEventListener('focusout', this.#onFocusOut.bind(this));\n    this.#shadow.addEventListener('keydown', this.#onKeyDown.bind(this));\n    this.#shadow.addEventListener('paste', this.#onPaste.bind(this));\n    this.#shadow.addEventListener('input', this.#onInput.bind(this));\n  }\n\n  set data(data: HeaderSectionRowData) {\n    this.#header = data.header;\n    void ComponentHelpers.ScheduledRender.scheduleRender(this, this.#boundRender);\n  }\n\n  #render(): void {\n    if (!ComponentHelpers.ScheduledRender.isScheduledRender(this)) {\n      throw new Error('HeaderSectionRow render was not scheduled');\n    }\n\n    if (!this.#header) {\n      return;\n    }\n\n    const rowClasses = LitHtml.Directives.classMap({\n      row: true,\n      'header-highlight': Boolean(this.#header.highlight),\n      'header-overridden': Boolean(this.#header.isOverride),\n      'header-editable': Boolean(this.#header.valueEditable),\n    });\n\n    // Disabled until https://crbug.com/1079231 is fixed.\n    // clang-format off\n    render(html`\n      <div class=${rowClasses}>\n        <div class=\"header-name\">\n          ${this.#header.headerNotSet ?\n            html`<div class=\"header-badge header-badge-text\">${i18n.i18n.lockedString('not-set')}</div> ` :\n            LitHtml.nothing\n          }${this.#header.nameEditable ? this.#renderEditable(this.#header.name) : this.#header.name}:\n        </div>\n        <div\n          class=\"header-value ${this.#header.headerValueIncorrect ? 'header-warning' : ''}\"\n          @copy=${():void => Host.userMetrics.actionTaken(Host.UserMetrics.Action.NetworkPanelCopyValue)}\n        >\n          ${this.#header.valueEditable ? this.#renderEditable(this.#header.value || '') : this.#header.value || ''}\n          ${this.#maybeRenderHeaderValueSuffix(this.#header)}\n        </div>\n      </div>\n      ${this.#maybeRenderBlockedDetails(this.#header.blockedDetails)}\n    `, this.#shadow, {host: this});\n    // clang-format on\n  }\n\n  focus(): void {\n    requestAnimationFrame(() => {\n      const editableName = this.#shadow.querySelector<HTMLElement>('.header-name .editable');\n      editableName?.focus();\n    });\n  }\n\n  #renderEditable(value: string): LitHtml.TemplateResult {\n    // This uses LitHtml's `live`-directive, so that when checking whether to\n    // update during re-render, `value` is compared against the actual live DOM\n    // value of the contenteditable element and not the potentially outdated\n    // value from the previous render.\n    // clang-format off\n    return LitHtml.html`<span contenteditable=\"true\" class=\"editable\" tabindex=\"0\" .innerText=${LitHtml.Directives.live(value)}></span>`;\n    // clang-format on\n  }\n\n  #maybeRenderHeaderValueSuffix(header: HeaderDescriptor): LitHtml.LitTemplate {\n    if (header.name === 'set-cookie' && header.setCookieBlockedReasons) {\n      const titleText =\n          header.setCookieBlockedReasons.map(SDK.NetworkRequest.setCookieBlockedReasonToUiString).join('\\n');\n      // Disabled until https://crbug.com/1079231 is fixed.\n      // clang-format off\n      return html`\n        <${IconButton.Icon.Icon.litTagName} class=\"inline-icon\" title=${titleText} .data=${{\n            iconName: 'clear-warning_icon',\n            width: '12px',\n            height: '12px',\n          } as IconButton.Icon.IconData}>\n        </${IconButton.Icon.Icon.litTagName}>\n      `;\n      // clang-format on\n    }\n\n    if (header.name === 'x-client-data') {\n      const data = ClientVariations.parseClientVariations(header.value || '');\n      const output = ClientVariations.formatClientVariations(\n          data, i18nString(UIStrings.activeClientExperimentVariation),\n          i18nString(UIStrings.activeClientExperimentVariationIds));\n      return html`\n        <div>${i18nString(UIStrings.decoded)}</div>\n        <code>${output}</code>\n      `;\n    }\n\n    return LitHtml.nothing;\n  }\n\n  #maybeRenderBlockedDetails(blockedDetails?: BlockedDetailsDescriptor): LitHtml.LitTemplate {\n    if (!blockedDetails) {\n      return LitHtml.nothing;\n    }\n    // Disabled until https://crbug.com/1079231 is fixed.\n    // clang-format off\n    return html`\n      <div class=\"call-to-action\">\n        <div class=\"call-to-action-body\">\n          <div class=\"explanation\">${blockedDetails.explanation()}</div>\n          ${blockedDetails.examples.map(example => html`\n            <div class=\"example\">\n              <code>${example.codeSnippet}</code>\n              ${example.comment ? html`\n                <span class=\"comment\">${example.comment()}</span>\n              ` : ''}\n            </div>\n          `)}\n          ${this.#maybeRenderBlockedDetailsLink(blockedDetails)}\n        </div>\n      </div>\n    `;\n    // clang-format on\n  }\n\n  #maybeRenderBlockedDetailsLink(blockedDetails?: BlockedDetailsDescriptor): LitHtml.LitTemplate {\n    if (blockedDetails?.reveal) {\n      // Disabled until https://crbug.com/1079231 is fixed.\n      // clang-format off\n      return html`\n        <div class=\"devtools-link\" @click=${blockedDetails.reveal}>\n          <${IconButton.Icon.Icon.litTagName} class=\"inline-icon\" .data=${{\n            iconName: 'issue-exclamation-icon',\n            color: 'var(--issue-color-yellow)',\n            width: '16px',\n            height: '16px',\n          } as IconButton.Icon.IconData}>\n          </${IconButton.Icon.Icon.litTagName}\n          >${i18nString(UIStrings.learnMoreInTheIssuesTab)}\n        </div>\n      `;\n      // clang-format on\n    }\n    if (blockedDetails?.link) {\n      // Disabled until https://crbug.com/1079231 is fixed.\n      // clang-format off\n      return html`\n        <x-link href=${blockedDetails.link.url} class=\"link\">\n          <${IconButton.Icon.Icon.litTagName} class=\"inline-icon\" .data=${{\n            iconName: 'link_icon',\n            color: 'var(--color-link)',\n            width: '16px',\n            height: '16px',\n          } as IconButton.Icon.IconData}>\n          </${IconButton.Icon.Icon.litTagName}\n          >${i18nString(UIStrings.learnMore)}\n        </x-link>\n      `;\n      // clang-format on\n    }\n    return LitHtml.nothing;\n  }\n\n  #selectAllText(target: HTMLElement): void {\n    const selection = window.getSelection();\n    const range = document.createRange();\n    range.selectNodeContents(target);\n    selection?.removeAllRanges();\n    selection?.addRange(range);\n  }\n\n  #onFocusIn(e: Event): void {\n    const target = e.target as HTMLElement;\n    if (target.matches('.editable')) {\n      this.#selectAllText(target);\n    }\n  }\n\n  #onFocusOut(): void {\n    const headerNameElement = this.#shadow.querySelector('.header-name') as HTMLElement;\n    const headerValueElement = this.#shadow.querySelector('.header-value') as HTMLElement;\n    const headerName = Platform.StringUtilities.toLowerCaseString(headerNameElement.innerText.slice(0, -1));\n    const headerValue = headerValueElement.innerText;\n\n    if (headerName !== '') {\n      if (headerName !== this.#header?.name || headerValue !== this.#header?.value) {\n        this.dispatchEvent(new HeaderEditedEvent(headerName, headerValue));\n      }\n    } else {\n      // If the header name has been edited to '', reset it to its previous value.\n      const headerNameEditable = this.#shadow.querySelector('.header-name .editable');\n      if (headerNameEditable) {\n        (headerNameEditable as HTMLElement).innerText = this.#header?.name || '';\n      }\n    }\n\n    // clear selection\n    const selection = window.getSelection();\n    selection?.removeAllRanges();\n  }\n\n  #onKeyDown(event: Event): void {\n    const keyboardEvent = event as KeyboardEvent;\n    const target = event.target as HTMLElement;\n    if (keyboardEvent.key === 'Escape') {\n      event.consume();\n      if (target.matches('.header-name .editable')) {\n        target.innerText = this.#header?.name || '';\n      } else if (target.matches('.header-value .editable')) {\n        target.innerText = this.#header?.value || '';\n        this.#markOverrideStatus(target);\n      }\n      target.blur();\n    }\n    if (keyboardEvent.key === 'Enter') {\n      event.preventDefault();\n      target.blur();\n    }\n  }\n\n  #onPaste(event: Event): void {\n    const clipboardEvent = event as ClipboardEvent;\n    event.preventDefault();\n    if (clipboardEvent.clipboardData) {\n      const text = clipboardEvent.clipboardData.getData('text/plain');\n\n      const selection = this.#shadow.getSelection();\n      if (!selection) {\n        return;\n      }\n      selection.deleteFromDocument();\n      selection.getRangeAt(0).insertNode(document.createTextNode(text));\n    }\n    const target = event.target as HTMLElement;\n    if (target.matches('.header-value .editable')) {\n      this.#markOverrideStatus(target);\n    }\n  }\n\n  #markOverrideStatus(editable: HTMLElement): void {\n    // We directly add/remove classes here instead of changing HeaderSectionRowData\n    // to prevent a re-render, which would mess up the current cursor position.\n    const row = this.shadowRoot?.querySelector<HTMLDivElement>('.row');\n    if (row) {\n      if (this.#header?.isOverride || editable.innerText !== this.#header?.originalValue) {\n        row.classList.add('header-overridden');\n        row.classList.remove('header-highlight');\n      } else {\n        row.classList.remove('header-overridden');\n      }\n    }\n  }\n\n  #onInput(event: Event): void {\n    const target = event.target as HTMLElement;\n    if (target.matches('.header-value .editable')) {\n      this.#markOverrideStatus(target);\n    }\n  }\n}\n\nComponentHelpers.CustomElements.defineComponent('devtools-header-section-row', HeaderSectionRow);\n\ndeclare global {\n  interface HTMLElementTagNameMap {\n    'devtools-header-section-row': HeaderSectionRow;\n  }\n\n  interface HTMLElementEventMap {\n    [HeaderEditedEvent.eventName]: HeaderEditedEvent;\n  }\n}\n\ninterface BlockedDetailsDescriptor {\n  explanation: () => string;\n  examples: Array<{\n    codeSnippet: string,\n    comment?: () => string,\n  }>;\n  link: {\n    url: string,\n  }|null;\n  reveal?: () => void;\n}\n\nexport interface HeaderDetailsDescriptor {\n  name: Platform.StringUtilities.LowerCaseString;\n  value: string|null;\n  headerValueIncorrect?: boolean;\n  blockedDetails?: BlockedDetailsDescriptor;\n  headerNotSet?: boolean;\n  setCookieBlockedReasons?: Protocol.Network.SetCookieBlockedReason[];\n  highlight?: boolean;\n}\n\nexport interface HeaderEditorDescriptor {\n  name: Platform.StringUtilities.LowerCaseString;\n  value: string|null;\n  originalValue?: string|null;\n  isOverride?: boolean;\n  valueEditable?: boolean;\n  nameEditable?: boolean;\n}\n\nexport type HeaderDescriptor = HeaderDetailsDescriptor&HeaderEditorDescriptor;\n"]}